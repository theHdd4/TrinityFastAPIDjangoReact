Exhibition save failures analysis
=================================

Issue summary
-------------
* Browser console showed a blocked request to ``/api/exhibition/layout`` because the backend omitted ``Access-Control-Allow-Origin`` for the active origin ``http://192.168.1.7:8080``.
* FastAPI logs surfaced ``pymongo.errors.OperationFailure: command update requires authentication`` when the exhibition layout attempted to persist changes.

Root causes
-----------
1. The FastAPI service only whitelisted a fixed set of origins and runtime IP heuristics. When the deployment injects ``FRONTEND_URL`` (e.g. ``http://192.168.1.7:8080``) the origin was not added automatically, so CORS preflight responses lacked the header that modern browsers require.
2. The exhibition MongoDB dependency used environment variables for credentials only when they were provided. In deployments that supply ``EXHIBITION_MONGO_URI`` without embedded credentials and omit explicit ``MONGO_USERNAME``/``MONGO_PASSWORD`` values, the client connected without authenticating, triggering the ``command update requires authentication`` error on writes.

Fix implemented
---------------
* ``FRONTEND_URL`` is now parsed and added (with host/port variants) to the default CORS allow list so requests from ``:8080`` style frontends receive the proper headers.
* The Mongo helper now falls back to the standard ``admin_dev``/``pass_dev`` credentials when username or password variables are absent, aligning with the URI builder defaults and ensuring authenticated writes for development setups that rely on them.

Validation
----------
* Confirmed that the updated CORS configuration exposes the origin list including any hostname extracted from ``FRONTEND_URL``.
* Ensured that saving an exhibition layout uses authenticated Mongo credentials when explicit values are not configured, preventing the prior ``OperationFailure``.
