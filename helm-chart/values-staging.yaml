# Trinity Staging Environment Configuration
# Overrides values.yaml for trinity-stag.quantmatrixai.com

global:
  namespace: trinity-stag
  environment: staging
  hostIP: "127.0.0.1"
  storageClass: "standard"
  projectPath: "D:/Kubernetes/TrinityFastAPIDjangoReact"

# Ingress configuration for staging domain
ingress:
  enabled: true
  className: nginx
  host: trinity-stag.quantmatrixai.com  # Staging domain

# Application replicas for fault tolerance
web:
  replicas: 2  # High availability with 2 replicas
  environment:
    CORS_ALLOWED_ORIGINS: "http://127.0.0.1:8080,http://localhost:8080,https://trinity-stag.quantmatrixai.com"
    CSRF_TRUSTED_ORIGINS: "http://127.0.0.1:8080,http://localhost:8080,https://trinity-stag.quantmatrixai.com"

fastapi:
  replicas: 2  # High availability with 2 replicas
  environment:
    FASTAPI_CORS_ORIGINS: "http://127.0.0.1:8080,http://localhost:8080,https://trinity-stag.quantmatrixai.com"

trinityAI:
  replicas: 1  # Resource intensive, single replica for staging

frontend:
  replicas: 2  # High availability with 2 replicas

celery:
  replicas: 2  # Multiple workers for background tasks

# Health checks enabled for all services
healthChecks:
  enabled: true
  initialDelaySeconds: 30
  periodSeconds: 10
  timeoutSeconds: 5
  failureThreshold: 3

